<mizu-directive id="for" directory="for">
  <code #name><span class="hljs-keyword">*for</span><wbr /><span class="muted">="expression"</span></code>
  <p #description>
    Render an element for each iteration performed.
  </p>
  <code #example *skip>
    <!--<ul>-->
    <li *for="let item of items"></li>
    <!--</ul>-->
  </code>
  <mizu-restriction #note>
    The expression can be:
    <ul>
      <li>
        Any syntax supported inside
        <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for"><code>for</code></a>,
        <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a> and
        <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for...of"><code>for...of</code></a> loops.
      </li>
      <li>
        Any iterable object that implements <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator"><code>Symbol.iterator</code></a>.
        <ul>
          <li>The iterated key is exposed as <code>$key</code>.</li>
          <li>The iterated value is exposed as <code>$value</code>.</li>
        </ul>
      </li>
      <li>
        A finite <code>number</code>.
        <ul>
          <li>The directive is applied the specified number of times.</li>
        </ul>
      </li>
    </ul>
  </mizu-restriction>
  <mizu-tbd #note>
    There is currently no distinction between
    <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/let"><code>let</code></a>,
    <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/const"><code>const</code></a> and
    <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/var"><code>var</code></a> declarations inside <code>for</code> loops, but future versions may introduce specific behavior for these.
  </mizu-tbd>
  <mizu-tbd #note>
    There is currently no special handling for <a href="https://developer.mozilla.org/docs/Web/HTML/Element/template"><code>&lt;template&gt;</code></a> elements, but future versions may introduce specific behavior for these elements.
  </mizu-tbd>
  <mizu-variable #variable name="$id">
    <span #type>string</span>
    The evaluated value of the <a href="#id"><code class="hljs-keyword">*id</code></a> directive if present, or the auto-generated identifier.
  </mizu-variable>
  <mizu-variable #variable name="$iterations">
    <span #type>number</span>
    The total number of iterations.
  </mizu-variable>
  <mizu-variable #variable name="$i">
    <span #type>number</span>
    The current iteration index <i>(0-based)</i>.
  </mizu-variable>
  <mizu-variable #variable name="$I">
    <span #type>number</span>
    The current iteration index <i>(1-based, same as <code>$i + 1</code>)</i>.
  </mizu-variable>
  <mizu-variable #variable name="$first">
    <span #type>number</span>
    Whether this is the first iteration <i>(same as <code>$i === 0</code>)</i>.
  </mizu-variable>
  <mizu-variable #variable name="$last">
    <span #type>number</span>
    Whether this is the last iteration <i>(same as <code>$i === ($iterations - 1)</code>)</i>.
  </mizu-variable>
</mizu-directive>

<mizu-directive id="id" directory="for">
  <code #name><span class="hljs-keyword">*id</span><wbr /><span class="muted">="expression"</span></code>
  <p #description>
    Hint for <a href="#for"><code class="hljs-keyword">*for</code></a> directive to differentiate generated elements.
  </p>
  <code #example *skip>
    <!--<ol>-->
    <li *for="const {id} of items" *id="id"></li>
    <!--</ol>-->
  </code>
  <mizu-restriction #note>
    Must be used on an element with a <a href="#for"><code class="hljs-keyword">*for</code></a> directive.
  </mizu-restriction>
  <mizu-note #note>
    Identifiers must be unique within the loop, any duplicates will be replaced by the last occurrence.
  </mizu-note>
</mizu-directive>
