# `*for="expression"`

| Version                              | Phase         |
| ------------------------------------ | ------------- |
| ![](https://jsr.io/badges/@mizu/for) | 21 — `EXPAND` |

Render an element for each iteration.

```html
<!--<ul>-->
<li *for="let item of items"></li>
<!--</ul>-->
```

## Notes

> [!CAUTION]
> Expression can either be:
>
> - Any syntax supported inside `[for](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for)`, `[for...in](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for...in)` and
>   `[for...of](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for...of)` loops.
> - Any iterable object that implements [`Symbol.iterator`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator).
>   - Iterated key will be exposed as `$key` variable.
>   - Iterated value will be exposed as `$value` variable.
> - A finite `number`.
>   - Directive will be applied the specified number of times.

> [!WARNING]
> There is currently no distinction between `[let](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/let)`, `[const](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/const)` and
> `[var](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/var)` declarations inside `for` loops, but future versions may treat them differently.

> [!WARNING]
> There is currently no special handling for [`<template>`](https://developer.mozilla.org/docs/Web/HTML/Element/template) elements, but future versions may treat them differently.

## Variables

### `$id: string`

Evaluated value of the [`*id`](#id) directive if present, or the identifier auto-generated by the directive.

### `$iterations: number`

Total number of iterations.

### `$i: number`

Current iteration index _(0 indexed)_.

### `$I: number`

Current iteration index _(1 indexed, same as `$i + 1`)_.

### `$first: number`

Whether this is the first iteration _(same as `$i === 0`)_.

### `$last: number`

Whether this is the last iteration _(same as `$i === ($iterations - 1)`)_.

# `*id="expression"`

| Version                              | Phase      |
| ------------------------------------ | ---------- |
| ![](https://jsr.io/badges/@mizu/for) | 0 — `META` |

Hint for [`*for`](#for) directive to differentiate generated elements.

```html
<!--<ol>-->
<li *for="const {id} of items" *id="id"></li>
<!--</ol>-->
```

## Notes

> [!CAUTION]
> Must be defined on an element with a [`*for`](#for) directive.

> [!NOTE]
> Identifier must be unique within the loop, any duplicate is replaced by the last occurrence found.
